{"ast":null,"code":"var _jsxFileName = \"/Users/Drew/Projects/bakers-math-client/src/RecipeForm/RecipeForm/RecipeForm.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport RecipeFormHeader from \"../RecipeFormHeader/RecipeFormHeader\";\nimport RecipeFormSection from \"../RecipeFormSection/RecipeFormSection\";\nimport FetchData from \"../../FetchData/FetchData\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RecipeForm(props) {\n  _s();\n\n  const [recipe, setRecipe] = useState({\n    recipe_name: \"\",\n    flour_total: \"\"\n  });\n  const [flours, setFlours] = useState([{\n    name: \"\",\n    percent: \"\",\n    id: Date.now()\n  }]);\n  const [ingredients, setIngredients] = useState([{\n    name: \"\",\n    percent: \"\",\n    id: Date.now()\n  }]);\n  useEffect(() => {\n    const recipe = props.data[0];\n    const {\n      flours,\n      ingredients\n    } = recipe;\n    setFlours(flours);\n    setIngredients(ingredients);\n    setRecipe({\n      recipe_name: recipe.recipe_name,\n      flour_total: recipe.flour_total\n    });\n  }, []);\n\n  const handleChangeRecipe = e => {\n    setRecipe({ ...recipe,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleChangeIngredient = (e, ingredientType) => {\n    console.log(e, ingredientType);\n    let nameArr = e.target.name.split(\"_\");\n    const propertyName = nameArr[0];\n    const id = parseInt(nameArr[1]);\n    if (ingredientType === \"flour\") updateFlour(e, propertyName, id);else if (ingredientType === \"ingredient\") updateIngredient(e, propertyName, id);\n  };\n\n  const updateIngredient = (e, propertyName, id) => {\n    setIngredients(ingredients.map(key => key.id === id ? { ...key,\n      [propertyName]: e.target.value\n    } : key));\n  };\n\n  const updateFlour = (e, propertyName, id) => {\n    setFlours(flours.map(key => key.id === id ? { ...key,\n      [propertyName]: e.target.value\n    } : key));\n  };\n\n  const handleSubtractClick = (e, id, ingredientType) => {\n    e.preventDefault();\n    if (ingredientType === \"flour\") setFlours(flours.filter(key => key.id !== id));else if (ingredientType === \"ingredient\") setIngredients(ingredients.filter(key => key.id !== id));\n  };\n\n  const handleClickAddIngredient = (e, ingredientType) => {\n    e.preventDefault();\n    if (ingredientType === \"flour\") setFlours([...flours, {\n      name: \"\",\n      percent: \"\",\n      id: Date.now()\n    }]);else if (ingredientType === \"ingredient\") setIngredients([...ingredients, {\n      name: \"\",\n      percent: \"\",\n      id: Date.now()\n    }]);\n  };\n\n  const {\n    recipeId\n  } = useParams();\n  return /*#__PURE__*/_jsxDEV(\"form\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RecipeForm, \"av/D/0Qe9Rz8DNOx8gQzT4dK5DQ=\", false, function () {\n  return [useParams];\n});\n\n_c = RecipeForm;\nexport default RecipeForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeForm\");","map":{"version":3,"sources":["/Users/Drew/Projects/bakers-math-client/src/RecipeForm/RecipeForm/RecipeForm.js"],"names":["useEffect","useState","RecipeFormHeader","RecipeFormSection","FetchData","useParams","RecipeForm","props","recipe","setRecipe","recipe_name","flour_total","flours","setFlours","name","percent","id","Date","now","ingredients","setIngredients","data","handleChangeRecipe","e","target","value","handleChangeIngredient","ingredientType","console","log","nameArr","split","propertyName","parseInt","updateFlour","updateIngredient","map","key","handleSubtractClick","preventDefault","filter","handleClickAddIngredient","recipeId"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport RecipeFormHeader from \"../RecipeFormHeader/RecipeFormHeader\";\nimport RecipeFormSection from \"../RecipeFormSection/RecipeFormSection\";\nimport FetchData from \"../../FetchData/FetchData\";\nimport { useParams } from \"react-router-dom\";\n\nfunction RecipeForm(props) {\n  const [recipe, setRecipe] = useState({\n    recipe_name: \"\",\n    flour_total: \"\",\n  });\n\n  const [flours, setFlours] = useState([\n    { name: \"\", percent: \"\", id: Date.now() },\n  ]);\n  const [ingredients, setIngredients] = useState([\n    { name: \"\", percent: \"\", id: Date.now() },\n  ]);\n\n  useEffect(() => {\n    const recipe = props.data[0];\n    const { flours, ingredients } = recipe;\n    setFlours(flours);\n    setIngredients(ingredients);\n    setRecipe({\n      recipe_name: recipe.recipe_name,\n      flour_total: recipe.flour_total,\n    });\n  }, []);\n\n  const handleChangeRecipe = (e) => {\n    setRecipe({ ...recipe, [e.target.name]: e.target.value });\n  };\n\n  const handleChangeIngredient = (e, ingredientType) => {\n    console.log(e, ingredientType);\n    let nameArr = e.target.name.split(\"_\");\n    const propertyName = nameArr[0];\n    const id = parseInt(nameArr[1]);\n    if (ingredientType === \"flour\") updateFlour(e, propertyName, id);\n    else if (ingredientType === \"ingredient\")\n      updateIngredient(e, propertyName, id);\n  };\n\n  const updateIngredient = (e, propertyName, id) => {\n    setIngredients(\n      ingredients.map((key) =>\n        key.id === id ? { ...key, [propertyName]: e.target.value } : key\n      )\n    );\n  };\n\n  const updateFlour = (e, propertyName, id) => {\n    setFlours(\n      flours.map((key) =>\n        key.id === id ? { ...key, [propertyName]: e.target.value } : key\n      )\n    );\n  };\n  const handleSubtractClick = (e, id, ingredientType) => {\n    e.preventDefault();\n    if (ingredientType === \"flour\")\n      setFlours(flours.filter((key) => key.id !== id));\n    else if (ingredientType === \"ingredient\")\n      setIngredients(ingredients.filter((key) => key.id !== id));\n  };\n\n  const handleClickAddIngredient = (e, ingredientType) => {\n    e.preventDefault();\n    if (ingredientType === \"flour\")\n      setFlours([...flours, { name: \"\", percent: \"\", id: Date.now() }]);\n    else if (ingredientType === \"ingredient\")\n      setIngredients([\n        ...ingredients,\n        { name: \"\", percent: \"\", id: Date.now() },\n      ]);\n  };\n\n  const { recipeId } = useParams();\n  return (\n    <form>\n      {/* <RecipeFormHeader\n        recipe={recipe}\n        handleChangeRecipe={(e) => handleChangeRecipe(e)}\n      />\n\n      <hr />\n      <RecipeFormSection\n        sectionName=\"Flour\"\n        recipe={recipe}\n        ingredients={flours}\n        ingredientType=\"flour\"\n        handleClickAddIngredient={(e, ingredientType) =>\n          handleClickAddIngredient(e, ingredientType)\n        }\n        handleChangeIngredient={(e, ingredientType) =>\n          handleChangeIngredient(e, ingredientType)\n        }\n        handleSubtractClick={(e, id, ingredientType) =>\n          handleSubtractClick(e, id, ingredientType)\n        }\n      />\n      <RecipeFormSection\n        sectionName=\"Ingredients\"\n        recipe={recipe}\n        ingredients={ingredients}\n        ingredientType=\"ingredient\"\n        handleClickAddIngredient={(e, ingredientType) =>\n          handleClickAddIngredient(e, ingredientType)\n        }\n        handleChangeIngredient={(e, ingredientType) =>\n          handleChangeIngredient(e, ingredientType)\n        }\n        handleSubtractClick={(e, id, ingredientType) =>\n          handleSubtractClick(e, id, ingredientType)\n        }\n      /> */}\n    </form>\n  );\n}\n\nexport default RecipeForm;\n"]},"metadata":{},"sourceType":"module"}