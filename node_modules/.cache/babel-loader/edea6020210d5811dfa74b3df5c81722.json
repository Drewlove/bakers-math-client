{"ast":null,"code":"var _jsxFileName = \"/Users/Drew/Projects/bakers-math-client/src/CommonFormComponents/FormSaveButton/FormSaveButton.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // import Modal from \"../../../Modal/Modal\";\n\nimport { API_SAVE } from \"../../Utilities/APImethods/API_SAVE\"; // import { useHistory } from \"react-router-dom\";\n// import { GET_ALL_ERROR_MESSAGES } from \"../../ValidateForm/GET_ALL_ERROR_MESSAGES\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction FormSaveButton(props) {\n  _s();\n\n  // const history = useHistory();\n  const [resSave, saveData] = API_SAVE(props.formData, props.endpointSuffix, props.rowId); // const [modal, setModal] = useState({\n  //   display: false,\n  // });\n\n  useEffect(() => {\n    if (resSave.saveSuccessful) return setModal({\n      display: true,\n      type: \"notification\",\n      text: \"Save successful.\",\n      redirect: true,\n      redirectSuffix: props.redirectSuffix\n    });\n\n    if (resSave.saveError.length > 0) {\n      return setModal({\n        display: true,\n        type: \"notification\",\n        text: \"Failed to save.\",\n        redirect: false,\n        redirectSuffix: \"\"\n      });\n    }\n  }, [resSave, props.redirectSuffix]); // const hideModal = (e) => {\n  //   e.preventDefault();\n  //   setModal({ ...modal, display: false });\n  //   if (modal.redirect) history.push(`/${props.redirectSuffix}`);\n  // };\n  // const renderModal = () => {\n  //   return (\n  //     <Modal\n  //       type={modal.type}\n  //       text={modal.text}\n  //       redirect={modal.redirect}\n  //       handleModalClose={(e) => hideModal(e)}\n  //     />\n  //   );\n  // };\n\n  const handleSave = e => {\n    e.preventDefault();\n    validateForm();\n  };\n\n  const validateForm = () => {\n    // const formErrorsObj = GET_ALL_ERROR_MESSAGES(\n    //   props.formName,\n    //   props.formData\n    // );\n    // props.setFormError(formErrorsObj);\n    // for (const property in formErrorsObj) {\n    //   let formErrorMessage = formErrorsObj[property];\n    //   if (formErrorMessage.length > 0) return;\n    // }\n    saveData();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"save-button-section\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"button-save\",\n      className: \"button save-button-section__button\",\n      type: \"submit\",\n      value: \"Save\",\n      onClick: handleSave,\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FormSaveButton, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = FormSaveButton;\nexport default FormSaveButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormSaveButton\");","map":{"version":3,"sources":["/Users/Drew/Projects/bakers-math-client/src/CommonFormComponents/FormSaveButton/FormSaveButton.js"],"names":["React","useEffect","useState","API_SAVE","FormSaveButton","props","resSave","saveData","formData","endpointSuffix","rowId","saveSuccessful","setModal","display","type","text","redirect","redirectSuffix","saveError","length","handleSave","e","preventDefault","validateForm"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;;AACA,SAASC,QAAT,QAAyB,qCAAzB,C,CACA;AACA;;;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAAA;;AAC7B;AACA,QAAM,CAACC,OAAD,EAAUC,QAAV,IAAsBJ,QAAQ,CAClCE,KAAK,CAACG,QAD4B,EAElCH,KAAK,CAACI,cAF4B,EAGlCJ,KAAK,CAACK,KAH4B,CAApC,CAF6B,CAO7B;AACA;AACA;;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIK,OAAO,CAACK,cAAZ,EACE,OAAOC,QAAQ,CAAC;AACdC,MAAAA,OAAO,EAAE,IADK;AAEdC,MAAAA,IAAI,EAAE,cAFQ;AAGdC,MAAAA,IAAI,EAAE,kBAHQ;AAIdC,MAAAA,QAAQ,EAAE,IAJI;AAKdC,MAAAA,cAAc,EAAEZ,KAAK,CAACY;AALR,KAAD,CAAf;;AAQF,QAAIX,OAAO,CAACY,SAAR,CAAkBC,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,aAAOP,QAAQ,CAAC;AACdC,QAAAA,OAAO,EAAE,IADK;AAEdC,QAAAA,IAAI,EAAE,cAFQ;AAGdC,QAAAA,IAAI,EAAE,iBAHQ;AAIdC,QAAAA,QAAQ,EAAE,KAJI;AAKdC,QAAAA,cAAc,EAAE;AALF,OAAD,CAAf;AAOD;AACF,GAnBQ,EAmBN,CAACX,OAAD,EAAUD,KAAK,CAACY,cAAhB,CAnBM,CAAT,CAX6B,CAgC7B;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMG,UAAU,GAAIC,CAAD,IAAO;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,YAAY;AACb,GAHD;;AAKA,QAAMA,YAAY,GAAG,MAAM;AACzB;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACAhB,IAAAA,QAAQ;AACT,GAZD;;AAcA,sBACE;AAAS,IAAA,SAAS,EAAC,qBAAnB;AAAA,2BAEE;AACE,MAAA,EAAE,EAAC,aADL;AAEE,MAAA,SAAS,EAAC,oCAFZ;AAGE,MAAA,IAAI,EAAC,QAHP;AAIE,MAAA,KAAK,EAAC,MAJR;AAKE,MAAA,OAAO,EAAEa,UALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,UADF;AAcD;;GAlFQhB,c;;KAAAA,c;AAoFT,eAAeA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// import Modal from \"../../../Modal/Modal\";\nimport { API_SAVE } from \"../../Utilities/APImethods/API_SAVE\";\n// import { useHistory } from \"react-router-dom\";\n// import { GET_ALL_ERROR_MESSAGES } from \"../../ValidateForm/GET_ALL_ERROR_MESSAGES\";\n\nfunction FormSaveButton(props) {\n  // const history = useHistory();\n  const [resSave, saveData] = API_SAVE(\n    props.formData,\n    props.endpointSuffix,\n    props.rowId\n  );\n  // const [modal, setModal] = useState({\n  //   display: false,\n  // });\n\n  useEffect(() => {\n    if (resSave.saveSuccessful)\n      return setModal({\n        display: true,\n        type: \"notification\",\n        text: \"Save successful.\",\n        redirect: true,\n        redirectSuffix: props.redirectSuffix,\n      });\n\n    if (resSave.saveError.length > 0) {\n      return setModal({\n        display: true,\n        type: \"notification\",\n        text: \"Failed to save.\",\n        redirect: false,\n        redirectSuffix: \"\",\n      });\n    }\n  }, [resSave, props.redirectSuffix]);\n\n  // const hideModal = (e) => {\n  //   e.preventDefault();\n  //   setModal({ ...modal, display: false });\n  //   if (modal.redirect) history.push(`/${props.redirectSuffix}`);\n  // };\n\n  // const renderModal = () => {\n  //   return (\n  //     <Modal\n  //       type={modal.type}\n  //       text={modal.text}\n  //       redirect={modal.redirect}\n  //       handleModalClose={(e) => hideModal(e)}\n  //     />\n  //   );\n  // };\n\n  const handleSave = (e) => {\n    e.preventDefault();\n    validateForm();\n  };\n\n  const validateForm = () => {\n    // const formErrorsObj = GET_ALL_ERROR_MESSAGES(\n    //   props.formName,\n    //   props.formData\n    // );\n\n    // props.setFormError(formErrorsObj);\n    // for (const property in formErrorsObj) {\n    //   let formErrorMessage = formErrorsObj[property];\n    //   if (formErrorMessage.length > 0) return;\n    // }\n    saveData();\n  };\n\n  return (\n    <section className=\"save-button-section\">\n      {/* {modal.display ? renderModal() : null} */}\n      <button\n        id=\"button-save\"\n        className=\"button save-button-section__button\"\n        type=\"submit\"\n        value=\"Save\"\n        onClick={handleSave}\n      >\n        Save\n      </button>\n    </section>\n  );\n}\n\nexport default FormSaveButton;\n"]},"metadata":{},"sourceType":"module"}